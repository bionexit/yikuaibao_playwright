[åŸå§‹é¡µé¢åœ°å€](https://docs.ekuaibao.com/docs/open-api/attachment/attachment-download)
æ•°æ®è·å–æ—¶é—´ 2025-06-23 13:00:17

# ä¸‹è½½é™„ä»¶

# ä¸‹è½½é™„ä»¶  
  
é€šè¿‡é™„ä»¶çš„ `id`ã€`key` å»è·å–é™„ä»¶çš„ä¸‹è½½é“¾æ¥ã€‚

POST**/api/openapi/v2/attachment/downloadurls**

**æ›´æ–°æ—¥å¿—**

  * [**2.3.1**](/updateLog/update-log#231)
    * ğŸš€ ä¼˜åŒ–äº†æ¥å£ï¼Œæ”¯æŒISVåº”ç”¨é’‰ç›˜é™„ä»¶ä¸‹è½½ã€‚
  * [**1.6.3**](/updateLog/update-log#163)
    * ğŸ ä¼˜åŒ–äº†æ¥å£ **HTTP 500** é”™è¯¯ï¼Œè¾“å‡ºæŠ¥é”™ä¿¡æ¯ã€‚



## Query Parametersâ€‹

åç§°| ç±»å‹| æè¿°| æ˜¯å¦å¿…å¡«| é»˜è®¤å€¼| å¤‡æ³¨  
---|---|---|---|---|---  
**accessToken**|  String| è®¤è¯token| å¿…å¡«| -| é€šè¿‡ [è·å–æˆæƒ](/docs/open-api/getting-started/auth) è·å– `accessToken`  
  
## Body Parametersâ€‹

åç§°| ç±»å‹| æè¿°| æ˜¯å¦å¿…å¡«| é»˜è®¤å€¼| å¤‡æ³¨  
---|---|---|---|---|---  
**\--**|  Array| æ•°ç»„å‚æ•°| å¿…å¡«| -| æ•°ç»„å‚æ•°ï¼Œ**æœ€å¤§æ”¯æŒ`100` ä¸ªå‚æ•°**  
**âˆŸ id**|  String| æ–‡ä»¶fileId| å¿…å¡«| -| [ä¸Šä¼ é™„ä»¶](/docs/open-api/attachment/attachment-upload) æ¥å£è¿”å›çš„ `fileId` å­—æ®µ  
**æ¥å£ä¸‹è½½å•æ®ä¸Šçš„é™„ä»¶æ—¶** ï¼Œå¯é€šè¿‡ [è·å–å•æ®è¯¦æƒ…](/docs/open-api/flows/get-forms-details-byCode) è·å– `attachments` å­—æ®µçš„ `fileId` å€¼  
**âˆŸ key**|  String| æ–‡ä»¶key| å¿…å¡«| -| [ä¸Šä¼ é™„ä»¶](/docs/open-api/attachment/attachment-upload) æ¥å£è¿”å›çš„ `key` å­—æ®µ  
**æ¥å£ä¸‹è½½å•æ®ä¸Šçš„é™„ä»¶æ—¶** ï¼Œå¯é€šè¿‡ [è·å–å•æ®è¯¦æƒ…](/docs/open-api/flows/get-forms-details-byCode) è·å– `attachments` å­—æ®µçš„ `key` å€¼ï¼Œ**æ³¨æ„ï¼š** `key` å€¼å‰ç¼€æ˜¯ `DP:`æ—¶ï¼Œè¡¨ç¤ºè¯¥é™„ä»¶æ˜¯é’‰ç›˜é™„ä»¶ ã€‚  
**âˆŸ expiration**|  Number| ä¸‹è½½é“¾æ¥æœ‰æ•ˆæ—¶é—´| å¿…å¡«| -| ä¸‹è½½é“¾æ¥åœ¨å¤šé•¿æ—¶é—´å†…æœ‰æ•ˆï¼Œå•ä½ï¼šç§’ï¼Œæœ€å¤§ `1800` ç§’ ï¼Œé’‰ç›˜é™„ä»¶è¯¥å€¼æ— æ•ˆ  
  
## CURLâ€‹
    
    
    curl --location --request POST 'https://app.ekuaibao.com/api/openapi/v2/attachment/downloadurls?accessToken=UvsbtOEHTsk000' \  
    --header 'Content-Type: application/json' \  
    --data-raw '[  
        {  
            "id": "61sbwX3DEAgk00",  
            "key": "openapi0306c2d1-7a5b-4e96-8172-60c5ee0f971e-kotlinç®€ä»‹.docx",  
            "expiration": 1000  
        },  
        {  
            "id": "136634573449",  
            "key": "DP:{\"fileId\":\"136634437985\",\"fileName\":\"128163bbba83.jpg\",\"fileSize\":2985928,\"fileType\":\"jpg\",\"spaceId\":\"7215288789\"}",  
            "expiration": 1000  
        }  
    ]'  
    

## æˆåŠŸå“åº”â€‹

tip

  * **url** æ˜¯æ–‡ä»¶ä¸‹è½½è·¯å¾„ï¼Œ**thumbUrl** æ˜¯æŒ‡ç¼©ç•¥å›¾çš„ä¸‹è½½è·¯å¾„ã€‚
  * **thumbUrl** åªé’ˆå¯¹å›¾ç‰‡æœ‰æ•ˆï¼ŒPDFæ–‡ä»¶ç”Ÿæˆçš„é“¾æ¥æ˜¯ä¸å¯ç”¨çš„ã€‚
  * **key** ä¸‹è½½é’‰ç›˜é™„ä»¶æ—¶ï¼Œurl å’Œ thumbUrl éƒ½æ˜¯ `é˜¿é‡ŒOSS` æ–‡ä»¶é“¾æ¥ï¼Œä¿å­˜æ–‡ä»¶æ—¶éœ€è¦æ ¹æ®keyå€¼å†…çš„ `fileType` å€¼æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ã€‚
  * **headers** åªé’ˆå¯¹é’‰ç›˜é™„ä»¶æœ‰æ•ˆï¼Œä¸‹è½½æ–‡ä»¶æ—¶éœ€è¦å°† **headers** ä¼ å…¥ï¼Œå¦åˆ™ä¼šä¸‹è½½å¤±è´¥ã€‚


    
    
    [  
        {  
            "id": "61sbwX3DEAgk00",  
            "key": "openapi0306c2d1-7a5b-4e96-8172-60c5ee0f971e-kotlinç®€ä»‹.docx",  
            "url": "https://ekuaibao.oss-cn-hangzhou.aliyuncs.com/openapi0306c2d1-7a5b-4e96-8172-60c5ee0f971e-kotlin%E7%AE%80%E4%BB%8B.docx?Expires=1599099810&OSSAccessKeyId=STS.NUTdxysMYQXwZApA734jgqnJb&Signature=wTRfcimdrHhXbL3efe8MftOSOmo%3D&security-token=CAIS8AF1q6Ft5B2yfSjIr5bhL8LNnpJ45pqcWGfBpTdmOOVLnqvhgDz2IHlPdHZhBekYtPszmW9Z6%2FsdlqF%2BSIJETEbNapPbRkWwXEXzDbDasumZsJYm6vT8a0XxZjf%2F2MjNGZabKPrWZvaqbX3diyZ32sGUXD6%2BXlujQ%2Fbr4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMk1zojtf7lmpTMtUuE0ALAp7VL99irEP%2BNdNJxOZpzadCx0dFte7DJuCwqsEERpPgn0PUao2ib447MXgQO%2BXScOu%2FT6cZ0MBRpwUXA2EKANZEagAFRCqgjZY6QvIiWMtTWb7UIfba4ebfujIHa7cn7sA3r0vGyNUnObhl5H5zW4cc%2FM%2FiHehACg83wRu189TUg4Qt5MRZ0KuYre7mpa4NWPJpcILHkRjLBR2YoL6Z27iqhNbtcZoezq%2B4ky3N60IIaXhUoYJcteXtru12W%2BiLzfiB%2FuA%3D%3D",  
            "thumbUrl": "https://ekuaibao.oss-cn-hangzhou.aliyuncs.com/openapi0306c2d1-7a5b-4e96-8172-60c5ee0f971e-kotlin%E7%AE%80%E4%BB%8B.docx?Expires=1599099810&OSSAccessKeyId=STS.NUTdxysMYQXwZApA734jgqnJb&Signature=evQnFfd4YhL5zkFMovDl9ZfVdlw%3D&x-oss-process=image%2Fresize%2Cw_120%2Ch_120&security-token=CAIS8AF1q6Ft5B2yfSjIr5bhL8LNnpJ45pqcWGfBpTdmOOVLnqvhgDz2IHlPdHZhBekYtPszmW9Z6%2FsdlqF%2BSIJETEbNapPbRkWwXEXzDbDasumZsJYm6vT8a0XxZjf%2F2MjNGZabKPrWZvaqbX3diyZ32sGUXD6%2BXlujQ%2Fbr4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMk1zojtf7lmpTMtUuE0ALAp7VL99irEP%2BNdNJxOZpzadCx0dFte7DJuCwqsEERpPgn0PUao2ib447MXgQO%2BXScOu%2FT6cZ0MBRpwUXA2EKANZEagAFRCqgjZY6QvIiWMtTWb7UIfba4ebfujIHa7cn7sA3r0vGyNUnObhl5H5zW4cc%2FM%2FiHehACg83wRu189TUg4Qt5MRZ0KuYre7mpa4NWPJpcILHkRjLBR2YoL6Z27iqhNbtcZoezq%2B4ky3N60IIaXhUoYJcteXtru12W%2BiLzfiB%2FuA%3D%3D"  
        },  
        {  
            "id": "136634573449",  
            "key": "DP:{\"fileId\":\"136634437985\",\"fileName\":\"128163bbba83.jpg\",\"fileSize\":2985928,\"fileType\":\"jpg\",\"spaceId\":\"7215288789\"}",  
            "url": "https://sh-dualstack.trans.dingtalk.com/yundisk0/iAEIAqRmaWxlA6h5dW5kaXNrMATOITK4JgXNEKcGzTyBB85mF5ENCM24VQ.file",  
            "thumbUrl": "https://sh-dualstack.trans.dingtalk.com/yundisk0/iAEIAqRmaWxlA6h5dW5kaXNrMATOITK4JgXNEKcGzTyBB85mF5ENCM24VQ.file",  
            "headers": {  
              "Authorization": "OSS LTAIjmWpzHta71rc:aSqNM0yoD0TJ8ljy0WBfRKtaowY=",  
              "x-oss-date": "Tue, 04 Jun 2024 02:36:44 GMT"  
            }  
        }  
    ]  
    

## å¤±è´¥å“åº”â€‹

HTTPçŠ¶æ€ç | é”™è¯¯ç | æè¿°| æ’æŸ¥å»ºè®®  
---|---|---|---  
**200**|  -| `{[]}`| ä¸ºç©ºè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„é™„ä»¶  
è¯·ç¡®è®¤æ‰€æä¾›çš„é™„ä»¶æŸ¥è¯¢ä¿¡æ¯æ˜¯å¦æ­£ç¡®  
  
## é’‰ç›˜é™„ä»¶ä¸‹è½½â€‹

  * ISVåº”ç”¨æ˜¯æŒ‡é’‰é’‰åº”ç”¨å•†åº—ç‰ˆæœ¬ï¼Œå³ç¬¬ä¸‰æ–¹ä¼ä¸šåº”ç”¨ `åˆæ€(æ˜“å¿«æŠ¥)`ï¼Œæš‚ä¸æ”¯æŒè‡ªå»ºåº”ç”¨
  * 2024å¹´5æœˆ11æ—¥å‰å¼€é€šåº”ç”¨æˆ–æ¥å£è¿”å›æ— apiè®¿é—®æƒé™çš„å®¢æˆ·ï¼Œéœ€è¦å‰å¾€é’‰é’‰ç®¡ç†åå° - åº”ç”¨ç®¡ç† -åˆæ€(æ˜“å¿«æŠ¥) - æ›´æ–°æˆæƒï¼Œä»¥ä¸‹æƒé™éœ€è¦å‹¾é€‰ 
    * ä¼ä¸šå­˜å‚¨æˆæƒä¿¡æ¯å†™æƒé™
    * ä¼ä¸šå­˜å‚¨æ–‡ä»¶ä¸‹è½½ä¿¡æ¯è¯»æƒé™
  * é’‰é’‰ç®¡ç†å‘˜æˆæƒï¼Œè¿›å…¥åˆæ€(æ˜“å¿«æŠ¥) - åº”ç”¨ä¸­å¿ƒ - æœç´¢é’‰é’‰äº‘ç›˜ - ç‚¹å‡»å•†å“é…ç½® - æˆæƒé’‰ç›˜æƒé™



## é˜¿é‡Œäº‘OSS CURLâ€‹

ä»¥ä¸‹æ˜¯é˜¿é‡ŒOSSçš„CURLç¤ºä¾‹ï¼Œè¯·æ ¹æ®ä¸‹è½½é™„ä»¶æ¥å£è¿”å›æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚
    
    
    curl --location 'https://sh-dualstack.trans.dingtalk.com/yundisk0/iAEIAqRmaWxlA6h5dW5kaXNrMATOITK4JgXNEKcGzTyBB85mF5ENCM24VQ.file' \  
    --header 'Authorization:  OSS LTAIjmWpzHta71rc:89IdD/YMQm2m9kD7y2yc09lIW+A=' \  
    --header 'x-oss-date:  Tue, 04 Jun 2024 02:53:12 GMT'  
    
